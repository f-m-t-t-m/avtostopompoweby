{% import _self as macros %}

{% set scope = {
    menu: [
        {
            url: '/',
            name: 'Группы и дисциплины',
        },
        {
            url: '/',
            name: 'Регистрация студентов',
        },
    ],
} %}

{% macro logoutButton() %}
    <a class="Button Button--primary LinkWhite" href="{{ route('logout') }}">
        Выйти из системы
    </a>
{% endmacro %}

{% macro offCanvasButton() %}
    <button type="button" class="Button Button--primary Button--offCanvasButton" uk-toggle="target: #offcanvas">
        <img
            class="OffCanvasButton__icon"
            src="{{ '/images/offCanvasButton.png' }}"
            alt="" 
            width="24" 
            height="14"
        >
    </button>
{% endmacro %}

{% macro offCanvas(scope) %}
    <div id="offcanvas" class="OffCanvas" uk-offcanvas="overlay: true; flip: true">     
        <div class="OffCanvas__content uk-offcanvas-bar">
            <button class="uk-offcanvas-close" type="button" uk-close></button>
            
            <div class="OffCanvas__menu">
                {% include 'components/site-nav.twig' with {
                    items: scope.menu,
                    vertical: true,
                } %}
            </div>
        
            <div class="OffCanvas__logoutButton">
                {{ macros.logoutButton }}
            </div>
        </div>
    </div>
{% endmacro %}

{% macro content(scope) %}
    <div class="Header">
        <div class="Header__logo">
            Логотип
        </div>
        
        {% if (auth_check() or true) %}
            <div class="Header__menu">
                {% include 'components/site-nav.twig' with {
                    items: scope.menu,
                    vertical: false,
                } %}
            </div>
            
            <div class="Header__logoutButton">
                {{ macros.logoutButton }}
            </div>
        
            <div class="Header__offCanvasButton">
                {{ macros.offCanvasButton }}
            </div>
        {% endif %}
    </div>

    {{ macros.offCanvas(scope) }}
{% endmacro %}

{{ macros.content(scope) }}
